<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>../tests/english_stem.h</title>
  <link rel="stylesheet" href="../pyccoon.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div id="jump_to">
    Contents
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source source-2" href="#section-73">A word is called short if it ends in a short syllable, and if R1 is null.</a>
      </div>
    </div>
  </div>
  <div class='section'>
    <div class='docs'>
      <h1 id="breadcrumbs">/ <a href="english_stem.h.html/../../index.html">.</a> / <a href="english_stem.h.html/../index.html">tests</a> / <a href="english_stem.h.html">english_stem.h</a> </h1>
      <ul id="children"></ul>
    </div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <pre><code>                      english_stem.h  -  description
                         -------------------
begin                : Sat May 25 2004 copyright            : (C) 2004 by Blake Madden
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p><em>
   This program is free software; you can redistribute it and/or modify  </em>
   it under the terms of the BSD License.                                <em>
</em></p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="cp">#ifndef __ENGLISH_STEM_H__</span>
<span class="cp">#define __ENGLISH_STEM_H__</span>

<span class="cp">#include &quot;stemming.h&quot;</span>

<span class="n">using</span> <span class="n">namespace</span> <span class="n">common_lang_constants</span><span class="p">;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">namespace</span> <span class="n">stemming</span>
    <span class="p">{</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <p>Overview</p>
<p>I have made more than one attempt to improve the structure of the Porter algorithm by making it follow the pattern of ending removal of the Romance language stemmers. It is not hard to see why one should want to do this: step 1b of the Porter stemmer removes ed and ing, which are i-suffixes (*) attached to verbs. If these suffixes are removed, there should be no need to remove d-suffixes which are not verbal, although it will try to do so. This seems to be a deficiency in the Porter stemmer, not shared by the Romance stemmers. Again, the divisions between steps 2, 3 and 4 seem rather arbitrary,
and are not found in the Romance stemmers.</p>
<p>Nevertheless, these attempts at improvement have been abandoned. They seem to lead to a more complicated algorithm with no very obvious improvements. A reason for not taking note of the outcome of step 1b may be that English endings do not determine word categories quite as strongly as endings in the Romance languages. For example, condition and position in French have to be nouns, but in English they can be verbs as well as nouns,</p>
<p>We are all conditioned by advertising They are positioning themselves differently today</p>
<p>A possible reason for having separate steps 2, 3 and 4 is that d-suffix combinations in English are quite complex, a point which has been made elsewhere.</p>
<p>But it is hardly surprising that after twenty years of use of the Porter stemmer, certain improvements do suggest themselves, and a new algorithm for English is therefore offered here. (It could be called the 'Porter2' stemmer to distinguish it from the Porter stemmer,
from which it derives.) The changes are not so very extensive: (1) terminating y is changed to i rather less often, (2) suffix us does not lose its s, (3) a few additional suffixes are included for removal, including (4) suffix ly. In addition, a small list of exceptional forms is included. In December 2001 there were two further adjustments: (5) Steps 5a and 5b of the old Porter stemmer were combined into a single step. This means that undoubling final ll is not done with removal of final e. (6) In Step 3 ative is removed only when in region R2.</p>
<pre><code>To begin with, here is the basic algorithm without reference to the exceptional forms. An exact comparison with the Porter algorithm needs to be done quite carefully if done at all. Here we indicate by * points of departure, and by + additional features. In the sample vocabulary, Porter and Porter2 stem slightly under 5% of words to different forms.
</code></pre>
<p>Dr. Martin Porter</p>
<p>Define a vowel as one of
    -a e i o u y</p>
<p>Define a double as one of
    -bb dd ff gg mm nn pp rr tt</p>
<p>Define a valid li-ending as one of
    -c d e g h k m n r t</p>
<p>Define a short syllable in a word as either (a) a vowel followed by a non-vowel other than w, x or Y and preceded by a non-vowel, or * (b) a vowel at the beginning of the word followed by a non-vowel.</p>
<p>So rap, trap, entrap end with a short syllable, and ow, on, at are classed as short syllables. But uproot, bestow, disturb do not end with a short syllable.</p>
<p>A word is called short if it consists of a short syllable preceded by zero or more consonants. R1 is the region after the first non-vowel following a vowel, or the end of the word if there is no such non-vowel. R2 is the region after the first non-vowel following a vowel in R1, or the end of the word if there is no such non-vowel. If the word has two letters or less, leave it as it is. Otherwise, do each of the following operations,
Set initial y, or y after a vowel, to Y, and then establish the regions R1 and R2.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">template</span> <span class="o">&lt;</span><span class="kr">typename</span> <span class="n">string_typeT</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">wstring</span><span class="o">&gt;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">class</span> <span class="n">english_stem</span> <span class="o">:</span> <span class="n">public</span> <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;</span>
        <span class="p">{</span>
    <span class="nl">public:</span>
        <span class="n">english_stem</span><span class="p">()</span> <span class="o">:</span> <span class="n">m_first_vowel</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span>
            <span class="p">{}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <hr />
<p><span class="pydoc pydoc-param"><span>param</span> <code>text:</code></span> string to stem</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">operator</span><span class="p">()(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <p>reset internal data</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">m_first_vowel</span> <span class="o">=</span> <span class="n">string_typeT</span><span class="o">::</span><span class="n">npos</span><span class="p">;</span>
            <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">reset_r_values</span><span class="p">();</span>

            <span class="n">this</span><span class="o">-&gt;</span><span class="n">trim_western_punctuation</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <p>handle exceptions first</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="n">is_exception</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span>

            <span class="n">this</span><span class="o">-&gt;</span><span class="n">hash_y</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">);</span>
            <span class="n">m_first_vowel</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="n">find_first_of</span><span class="p">(</span><span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">m_first_vowel</span> <span class="o">==</span> <span class="n">string_typeT</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span>
                <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <p>gener</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">set_r1</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <p>commun</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">set_r1</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>
                <span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p>arsen</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">set_r1</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="k">else</span>
                <span class="p">{</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">find_r1</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">);</span>
                <span class="p">}</span>

            <span class="n">this</span><span class="o">-&gt;</span><span class="n">find_r2</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <p>step 1a:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_1a</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <p>exception #2</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="n">is_exception_post_step1a</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <p>step 1b:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_1b</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      <p>step 1c:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_1c</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      <p>step 2:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_2</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      <p>step 3:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_3</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <p>step 4:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_4</span><span class="p">(</span><span class="n">text</span><span class="p">);</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      <p>step 5:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">step_5</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>

            <span class="n">this</span><span class="o">-&gt;</span><span class="n">unhash_y</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
            <span class="p">}</span>
    <span class="nl">private:</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">bool</span> <span class="n">is_exception</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      <p>exception #0</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      <p>skis</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_K</span><span class="p">,</span> <span class="n">UPPER_K</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;ski&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      <p>skies</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_K</span><span class="p">,</span> <span class="n">UPPER_K</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;sky&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <p>dying</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;die&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      <p>lying</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;lie&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      <p>tying</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;tie&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      <p>idly</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;idl&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <p>gently</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;gentl&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      <p>ugly</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;ugli&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      <p>early</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;earli&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      <p>only</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;onli&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <p>singly</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s">L&quot;singl&quot;</span><span class="p">;</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      <p>exception #1</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      <p>sky</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_K</span><span class="p">,</span> <span class="n">UPPER_K</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      <p>news</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_W</span><span class="p">,</span> <span class="n">UPPER_W</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      <p>howe</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_H</span><span class="p">,</span> <span class="n">UPPER_H</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_W</span><span class="p">,</span> <span class="n">UPPER_W</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      <p>atlas</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      <p>cosmos</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      <p>bias</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      <p>andes</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">bool</span> <span class="n">is_exception_post_step1a</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      <p>exception #2</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="cm">/*inning*/</span>
                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      <p>outing</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      <p>canning</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      <p>herring</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_H</span><span class="p">,</span> <span class="n">UPPER_H</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-46'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-46'>#</a>
      </div>
      <p>earring</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-47'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-47'>#</a>
      </div>
      <p>proceed</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_P</span><span class="p">,</span> <span class="n">UPPER_P</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-48'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-48'>#</a>
      </div>
      <p>exceed</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_X</span><span class="p">,</span> <span class="n">UPPER_X</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="p">)</span> <span class="o">||</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-49'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-49'>#</a>
      </div>
      <p>succeed</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-50'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-50'>#</a>
      </div>
      <p>Search for the longest among the following suffixes, and perform the action indicated.</p>
<pre><code>-sses
    -replace by ss

-ied+   ies*
    -replace by i if preceded by just one letter, otherwise by ie (so ties -&amp;gt; tie, cries -&amp;gt; cri)

-s
    -delete if the preceding word part contains a vowel not immediately before the s (so gas and this retain the s, gaps and kiwis lose it)

-us+   ss
    -do nothing
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-51'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-51'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_1a</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*sses*/</span><span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ied*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ies*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">3</span> <span class="o">||</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="k">else</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">m_first_vowel</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span> <span class="o">&amp;&amp;</span>
                    <span class="o">!</span><span class="n">string_util</span><span class="o">::</span><span class="n">is_one_of</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="s">L&quot;suSU&quot;</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-52'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-52'>#</a>
      </div>
      <p>Search for the longest among the following suffixes, and perform the action indicated.</p>
<pre><code>-eed   eedly+
    -replace by ee if in R1

-ed   edly+   ing   ingly+
    -delete if the preceding word part contains a vowel, and then
    -if the word ends at, bl or iz add e (so luxuriat -&amp;gt; luxuriate), or
    -if the word ends with a double remove the last letter (so hopp -&amp;gt; hop), or
    -if the word is short, add e (so hop -&amp;gt; hope)
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-53'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-53'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_1b</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-54'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-54'>#</a>
      </div>
      <p>if the preceding word contains a vowel</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="kt">bool</span> <span class="n">regress_trim</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*eed*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*eedly*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ed*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">m_first_vowel</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="n">regress_trim</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*edly*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">m_first_vowel</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="n">regress_trim</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ing*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">m_first_vowel</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="n">regress_trim</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ingly*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">UPPER_Y</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">m_first_vowel</span> <span class="o">&lt;</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="n">regress_trim</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">regress_trim</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*at*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*bl*/</span><span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*iz*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_Z</span><span class="p">,</span> <span class="n">UPPER_Z</span><span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="n">LOWER_E</span><span class="p">;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-55'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-55'>#</a>
      </div>
      <p>need to search for r2 again because the 'e' added here may change that</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">find_r2</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*bb*/</span><span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*dd*/</span><span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">,</span> <span class="n">LOWER_D</span><span class="p">,</span> <span class="n">UPPER_D</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ff*/</span><span class="n">LOWER_F</span><span class="p">,</span> <span class="n">UPPER_F</span><span class="p">,</span> <span class="n">LOWER_F</span><span class="p">,</span> <span class="n">UPPER_F</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*gg*/</span><span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">,</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*mm*/</span><span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">,</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*nn*/</span><span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*pp*/</span><span class="n">LOWER_P</span><span class="p">,</span> <span class="n">UPPER_P</span><span class="p">,</span> <span class="n">LOWER_P</span><span class="p">,</span> <span class="n">UPPER_P</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*rr*/</span><span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">,</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">||</span>
                        <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*tt*/</span><span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">is_short_word</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span> <span class="o">+=</span> <span class="n">LOWER_E</span><span class="p">;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-56'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-56'>#</a>
      </div>
      <p>need to search for r2 again because the 'e' added here may change that</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">find_r2</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-57'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-57'>#</a>
      </div>
      <p>replace suffix y or Y by i if preceeded by a non-vowel which is not the first letter of the word (so cry -&gt; cri, by -&gt; by, say -&gt; say)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-58'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-58'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_1c</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-59'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-59'>#</a>
      </div>
      <p>proceeding consonant cannot be first letter in word</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
                <span class="o">!</span><span class="n">is_vowel</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_Y</span><span class="p">,</span> <span class="n">LOWER_Y_HASH</span><span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_I</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">UPPER_Y</span><span class="p">,</span> <span class="n">UPPER_Y_HASH</span><span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">UPPER_I</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-60'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-60'>#</a>
      </div>
      <p>Search for the longest among the following suffixes, and, if found and in R1,
perform the action indicated.</p>
<pre><code>-tional
:   replace by tion

-enci
:   replace by ence

-anci
:   replace by ance

-abli
:   replace by able

-entli
:   replace by ent

-izer   ization
:   replace by ize

-ational   ation   ator
:   replace by ate

-alism   aliti   alli
:   replace by al

-fulness
:   replace by ful

-ousli   ousness
:   replace by ous

-iveness   iviti
:   replace by ive

-biliti   bli+
:   replace by ble

-ogi+
:   replace by og if preceded by l

-fulli+
:   replace by ful

-lessli+
:   replace by less

-li+
:   delete if preceded by a valid li-ending
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-61'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-61'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_2</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ization*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_Z</span><span class="p">,</span> <span class="n">UPPER_Z</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ational*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*fulness*/</span><span class="n">LOWER_F</span><span class="p">,</span> <span class="n">UPPER_F</span><span class="p">,</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ousness*/</span><span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*iveness*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_V</span><span class="p">,</span> <span class="n">UPPER_V</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*tional*/</span><span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*lessli*/</span><span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">6</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*biliti*/</span><span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">6</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_L</span><span class="p">;</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*iviti*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_V</span><span class="p">,</span> <span class="n">UPPER_V</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ation*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*alism*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*aliti*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ousli*/</span><span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*entli*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*fulli*/</span><span class="n">LOWER_F</span><span class="p">,</span> <span class="n">UPPER_F</span><span class="p">,</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*alli*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*enci*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*anci*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*abli*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*izer*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_Z</span><span class="p">,</span> <span class="n">UPPER_Z</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ator*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
                <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*bli*/</span><span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
                <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ogi*/</span><span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_G</span><span class="p">,</span> <span class="n">UPPER_G</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
                    <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*li*/</span><span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">string_util</span><span class="o">::</span><span class="n">is_one_of</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">],</span> <span class="s">L&quot;cdeghkmnrtCDEGHKMNRT&quot;</span><span class="p">)</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-62'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-62'>#</a>
      </div>
      <p>Search for the longest among the following suffixes, and, if found and in R1, perform the action indicated.</p>
<pre><code>-tional+
:   replace by tion

-ational+
:   replace by ate

-alize
:   replace by al

-icate   iciti   ical
:   replace by ic

-ful   ness
:   delete

-ative*
:   delete if in R2
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-63'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-63'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_3</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">7</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ational*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
                    <span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">LOWER_E</span><span class="p">;</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">6</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*tional*/</span><span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">6</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
				<span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*icate*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*iciti*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
				<span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*alize*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_Z</span><span class="p">,</span> <span class="n">UPPER_Z</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ative*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_V</span><span class="p">,</span> <span class="n">UPPER_V</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ical*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ness*/</span><span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ful*/</span><span class="n">LOWER_F</span><span class="p">,</span> <span class="n">UPPER_F</span><span class="p">,</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-64'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-64'>#</a>
      </div>
      <p>Search for the longest among the following suffixes, and, if found and in R2, perform the action indicated.</p>
<pre><code>-al ance ence er ic able ible ant ement ment ent ism ate iti ous ive ize
    -delete
-ion
    -delete if preceded by s or t
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-65'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-65'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_4</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="o">&amp;&amp;</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ement*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">5</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*able*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ible*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_B</span><span class="p">,</span> <span class="n">UPPER_B</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ment*/</span><span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ence*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ance*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">))</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">4</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span>
                    <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*sion*/</span><span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*tion*/</span><span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">))</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span>
                    <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ant*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ent*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_N</span><span class="p">,</span> <span class="n">UPPER_N</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ism*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">,</span> <span class="n">LOWER_M</span><span class="p">,</span> <span class="n">UPPER_M</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ate*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*iti*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_T</span><span class="p">,</span> <span class="n">UPPER_T</span><span class="p">,</span> <span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ous*/</span><span class="n">LOWER_O</span><span class="p">,</span> <span class="n">UPPER_O</span><span class="p">,</span> <span class="n">LOWER_U</span><span class="p">,</span> <span class="n">UPPER_U</span><span class="p">,</span> <span class="n">LOWER_S</span><span class="p">,</span> <span class="n">UPPER_S</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ive*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_V</span><span class="p">,</span> <span class="n">UPPER_V</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ize*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_Z</span><span class="p">,</span> <span class="n">UPPER_Z</span><span class="p">,</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">))</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">3</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span>
                    <span class="p">(</span><span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*al*/</span><span class="n">LOWER_A</span><span class="p">,</span> <span class="n">UPPER_A</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*er*/</span><span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">,</span> <span class="n">LOWER_R</span><span class="p">,</span> <span class="n">UPPER_R</span><span class="p">)</span> <span class="o">||</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ic*/</span><span class="n">LOWER_I</span><span class="p">,</span> <span class="n">UPPER_I</span><span class="p">,</span> <span class="n">LOWER_C</span><span class="p">,</span> <span class="n">UPPER_C</span><span class="p">))</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-66'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-66'>#</a>
      </div>
      <p>Search for the the following suffixes, and, if found, perform the action indicated.</p>
<pre><code>-e
    -delete if in R2, or in R1 and not preceded by a short syllable
-l
    -delete if in R2 and preceded by l
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-67'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-67'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">void</span> <span class="n">step_5</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
                <span class="n">is_either</span><span class="o">&lt;</span><span class="kt">wchar_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_E</span><span class="p">,</span> <span class="n">UPPER_E</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">!=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">())</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">!=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-68'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-68'>#</a>
      </div>
      <p>look at the part of the word in front of the last 'e' to see if it ends with a short syllable.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                    <span class="o">!</span><span class="n">ends_with_short_syllable</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
                    <span class="p">{</span>
                    <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                    <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r2</span><span class="p">()</span> <span class="o">!=</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span> <span class="o">&amp;&amp;</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">is_suffix</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="cm">/*ll*/</span><span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">,</span> <span class="n">LOWER_L</span><span class="p">,</span> <span class="n">UPPER_L</span><span class="p">)</span> <span class="p">)</span>
                <span class="p">{</span>
                <span class="n">text</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                <span class="n">this</span><span class="o">-&gt;</span><span class="n">update_r_sections</span><span class="p">(</span><span class="n">text</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-69'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-69'>#</a>
      </div>
      <p>Define a short syllable in a word as either
(a) a vowel followed by a non-vowel other than w, x or Y and preceded by a non-vowel, or
(b) a vowel at the beginning of the word followed by a non-vowel.</p>
<p>So rap, trap, entrap end with a short syllable, and ow, on, at are classed as short syllables. But uproot, bestow, disturb do not end with a short syllable.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-70'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-70'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kt">bool</span> <span class="n">ends_with_short_syllable</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">,</span> <span class="k">const</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="k">const</span>
            <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">is_vowel</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="k">return</span> <span class="p">(</span><span class="o">!</span><span class="n">is_vowel</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">);</span>
                    <span class="p">}</span>
                <span class="k">else</span>
                    <span class="p">{</span>
                    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
                <span class="p">{</span>
                <span class="kt">size_t</span> <span class="n">start</span> <span class="o">=</span> <span class="n">text</span><span class="p">.</span><span class="n">find_last_of</span><span class="p">(</span><span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">string_typeT</span><span class="o">::</span><span class="n">npos</span><span class="p">)</span>
                    <span class="p">{</span>
                    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">start</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
                    <span class="n">start</span> <span class="o">==</span> <span class="p">(</span><span class="n">length</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-71'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-71'>#</a>
      </div>
      <p>following letter</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                    <span class="p">(</span><span class="o">!</span><span class="n">is_vowel</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;&amp;</span>
                    <span class="o">!</span><span class="n">string_util</span><span class="o">::</span><span class="n">is_one_of</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="s">L&quot;wxWX&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                    <span class="n">is_neither</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">LOWER_Y_HASH</span><span class="p">,</span> <span class="n">UPPER_Y_HASH</span><span class="p">))</span> <span class="o">&amp;&amp;</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-72'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-72'>#</a>
      </div>
      <p>proceeding letter</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                    <span class="o">!</span><span class="n">is_vowel</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">start</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="p">)</span>
                    <span class="p">{</span>
                    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="k">else</span>
                    <span class="p">{</span>
                    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="k">else</span>
                <span class="p">{</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-73'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-73'>#</a>
      </div>
      <h2>A word is called short if it ends in a short syllable, and if R1 is null.</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">is_short_word</span><span class="p">(</span><span class="n">string_typeT</span><span class="o">&amp;</span> <span class="n">text</span><span class="p">,</span> <span class="k">const</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="k">const</span>
            <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">ends_with_short_syllable</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">stem</span><span class="o">&lt;</span><span class="n">string_typeT</span><span class="o">&gt;::</span><span class="n">get_r1</span><span class="p">()</span> <span class="o">==</span> <span class="n">text</span><span class="p">.</span><span class="n">length</span><span class="p">());</span>
            <span class="p">}</span></pre></div>
    </div>
    <div class='clearall'></div>
  </div>
  <div class='section' id='section-74'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-74'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="kr">inline</span> <span class="kt">bool</span> <span class="n">is_vowel</span><span class="p">(</span><span class="kt">wchar_t</span> <span class="n">character</span><span class="p">)</span> <span class="k">const</span>
            <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">string_util</span><span class="o">::</span><span class="n">is_one_of</span><span class="p">(</span><span class="n">character</span><span class="p">,</span> <span class="s">L&quot;aeiouyAEIOUY&quot;</span><span class="p">)</span> <span class="p">);</span>
            <span class="p">}</span>

        <span class="kt">size_t</span> <span class="n">m_first_vowel</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">}</span>

<span class="cp">#endif </span><span class="c1">//__ENGLISH_STEM_H__</span>

</pre></div>
    </div>
    <div class='clearall'></div>
  </div>
</div>
</body>